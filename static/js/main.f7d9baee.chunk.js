(this["webpackJsonpgoit-react-hw-02-phonebook"]=this["webpackJsonpgoit-react-hw-02-phonebook"]||[]).push([[0],{12:function(t,e,a){t.exports={form:"ContactList_form__2qOOQ",title:"ContactList_title__ATLM_",contact_li:"ContactList_contact_li__3Mw54",contact_name:"ContactList_contact_name__16ElV",contact_btn:"ContactList_contact_btn__2cjDu"}},13:function(t,e,a){t.exports={block:"phonebook_block__3leaV",form:"phonebook_form__35hek",title:"phonebook_title__H8Ept",contacts:"phonebook_contacts__3Ras2",blockerror:"phonebook_blockerror__1CEC9"}},21:function(t,e,a){t.exports={block:"filter_block__3mcaS",title:"filter_title__z3VH_",search_txt:"filter_search_txt__3O6gA",form:"filter_form__cmOFk"}},35:function(t,e,a){t.exports={enter:"fadeContact_enter__TaX2X",enterActive:"fadeContact_enterActive__a7XZI",exit:"fadeContact_exit__19S4a",exitActive:"fadeContact_exitActive__2zSWF"}},36:function(t,e,a){t.exports={appear:"appear_appear__AXAqp",appearActive:"appear_appearActive__1VnKW"}},37:function(t,e,a){t.exports={enter:"errorFade_enter__e9dpU",enterActive:"errorFade_enterActive__1psXe",exit:"errorFade_exit__X1YLN",exitActive:"errorFade_exitActive__25R5t"}},41:function(t,e,a){t.exports=a(68)},68:function(t,e,a){"use strict";a.r(e);var n,c=a(0),o=a.n(c),r=a(9),l=a.n(r),s=a(7),u=a(1),i=a(14),m=a(38),_={addContactRequest:Object(u.b)("@contacts/addRequest"),addContactError:Object(u.b)("@contacts/addError"),addContactSuccess:Object(u.b)("@contacts/addSuccess"),deleteContactRequest:Object(u.b)("@contacts/deleteRequest"),deleteContactError:Object(u.b)("@contacts/deleteError"),deleteContactSuccess:Object(u.b)("@contacts/deleteSuccess"),getContactRequest:Object(u.b)("@contacts/getRequest"),geteContactError:Object(u.b)("@contacts/getError"),getContactSuccess:Object(u.b)("@contacts/getSuccess"),searchContact:Object(u.b)("@contact/filterContact")},b=a(5),f=Object(u.c)([],(n={},Object(i.a)(n,_.getContactSuccess,(function(t,e){return e.payload})),Object(i.a)(n,_.deleteContactSuccess,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),Object(i.a)(n,_.addContactSuccess,(function(t,e){return[].concat(Object(m.a)(t),[e.payload])})),n)),d=Object(u.c)("",Object(i.a)({},_.searchContact,(function(t,e){return e.payload}))),p=Object(b.c)({contacts:f,filter:d}),C=Object(u.a)({reducer:{tasks:p}}),h=a(16),E=a(17),v=a(19),O=a(18),N=a(8),S=a.n(N),j=a(20),k=a.n(j),g={deleteContact:function(t){return function(e){e(_.deleteContactRequest()),k.a.delete("http://localhost:2000/contacts/".concat(t)).then((function(){return e(_.deleteContactSuccess(t))})).catch((function(t){e(_.deleteContactError(t))}))}},getContact:function(){return function(t){t(_.getContactRequest()),k.a.get("http://localhost:2000/contacts").then((function(e){t(_.getContactSuccess(e.data))})).catch((function(e){t(_.geteContactError(e))}))}},addContact:function(t,e){return function(a){a(_.addContactRequest()),k.a.post("http://localhost:2000/contacts",{name:t,number:e}).then((function(t){a(_.addContactSuccess(t.data))})).catch((function(t){a(_.addContactError(t))}))}}},x=a(6),A=function(t){return t.tasks.contacts},y=function(t){return t.tasks.filter},F={visibleContactSelector:Object(x.a)([A,y],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))})),filterSelector:y,contactSelector:A},R=function(t){Object(v.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(h.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).state={name:"",number:""},t.handleName=function(e){t.setState({name:e.target.value})},t.handlNumber=function(e){t.setState({number:e.target.value})},t.handleSubmit=function(e){e.preventDefault();var a=t.state,n=a.name,c=a.number;t.props.contacts.find((function(t){return t.name===n}))?(t.props.onError(),t.setState({name:"",number:""})):(t.props.onAddContacts(n,c),t.setState({name:"",number:""}))},t}return Object(E.a)(a,[{key:"render",value:function(){var t=this.state,e=t.name,a=t.number;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:S.a.block},o.a.createElement("form",{onSubmit:this.handleSubmit,className:S.a.form},o.a.createElement("label",{className:S.a.label},o.a.createElement("span",{className:S.a.name_form}," Name:"),o.a.createElement("input",{className:S.a.input,type:"text",name:"name",placeholder:"Your Name",value:e,onChange:this.handleName})),o.a.createElement("label",{className:S.a.label},o.a.createElement("span",{className:S.a.name_form}," Number:"),o.a.createElement("input",{className:S.a.input,type:"text",name:"number",placeholder:"Your Number",value:a,onChange:this.handlNumber})),o.a.createElement("button",{className:S.a.button,type:"submit"},"Add contact"))))}}]),a}(c.Component),q={onAddContacts:g.addContact},L=Object(s.b)((function(t){return{contacts:F.contactSelector(t)}}),q)(R),w=a(12),X=a.n(w),D=a(70),M=a(69),V=a(35),H=a.n(V),T={onRemove:g.deleteContact},Y=Object(s.b)((function(t){return{contacts:F.visibleContactSelector(t)}}),T)((function(t){var e=t.contacts,a=t.onRemove;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:X.a.form},o.a.createElement("h2",{className:X.a.title},"Contacts"),o.a.createElement(D.a,{component:"ul"},e.map((function(t){return o.a.createElement(M.a,{timeout:500,classNames:H.a,key:t.id},o.a.createElement("li",{className:X.a.contact_li},o.a.createElement("span",{className:X.a.contact_name},t.name," -",t.number),o.a.createElement("button",{className:X.a.contact_btn,onClick:function(){return a(t.id)}},"Delete")))})))))})),z=a(21),B=a.n(z),G={onSearchContact:_.searchContact},I=Object(s.b)((function(t){return{filter:F.filterSelector(t)}}),G)((function(t){var e=t.filter,a=t.onSearchContact;return o.a.createElement("div",{className:B.a.block},o.a.createElement("h2",{className:B.a.title},"Search"),o.a.createElement("input",{className:B.a.form,type:"text",placeholder:"search",value:e,onChange:function(t){return a(t.target.value)}}))})),J=a(13),K=a.n(J),W=a(36),Z=a.n(W),P=a(37),Q=a.n(P),U=function(t){Object(v.a)(a,t);var e=Object(O.a)(a);function a(){var t;Object(h.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).state={error:!1},t.errorContact=function(){t.setState({error:!0}),setTimeout((function(){return t.setState({error:!1})}),5e3)},t}return Object(E.a)(a,[{key:"componentDidMount",value:function(){this.props.onGetContacts()}},{key:"render",value:function(){var t=this.state.error;return o.a.createElement(o.a.Fragment,null,o.a.createElement(M.a,{in:t,timeout:250,classNames:Q.a,unmountOnExit:!0},o.a.createElement("div",{className:K.a.blockerror},"Error! Contact is already exist!")),o.a.createElement("div",{className:K.a.block},o.a.createElement("div",{className:K.a.form},o.a.createElement(M.a,{in:!0,appear:!0,timeout:500,classNames:Z.a,unmountOnExit:!0},o.a.createElement("h1",{className:K.a.title},"Phonebook")),o.a.createElement(L,{onError:this.errorContact})),o.a.createElement("div",{className:K.a.contacts},o.a.createElement(I,null),o.a.createElement(Y,null))))}}]),a}(c.Component),$={onGetContacts:g.getContact},tt=Object(s.b)((function(t){return{contacts:F.contactSelector(t)}}),$)(U),et=function(){return o.a.createElement("div",null,o.a.createElement(s.a,{store:C},o.a.createElement(tt,null)))};l.a.render(o.a.createElement(et,null),document.getElementById("root"))},8:function(t,e,a){t.exports={block:"ContactForm_block__3L7f5",form:"ContactForm_form__1fuOn",label:"ContactForm_label__378f8",name_form:"ContactForm_name_form__16HcO",input:"ContactForm_input__gm87B",button:"ContactForm_button__1MLZK"}}},[[41,1,2]]]);
//# sourceMappingURL=main.f7d9baee.chunk.js.map